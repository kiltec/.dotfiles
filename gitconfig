[include]
	path = ~/.gitconfig.secret

[user]
	# Let git prompt me, if I forget to set a local email
	# see: http://orrsella.com/2013/08/10/git-using-different-user-emails-for-different-repositories/
	useConfigOnly = true

[color]
	diff = auto
	status = auto
	branch = auto
	ui = true
[alias]
	ci = commit
	co = checkout
	cob = checkout -b
	lg = log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr)%Creset' --abbrev-commit --date=relative
	br = branch
	st = status -sb
	find-ref = "!f() { git log --grep=\"^git-svn-id:.*@$1\" --format='%H'; }; f"
	find-rev = "!f() { git svn find-rev $1; }; f"
	c-p = cherry-pick
	# resets the previous commit, but keeps all the changes
	# from that commit in the working directory.
	undo = reset HEAD~1 --mixed
	# commits everything in my working directory and then does a
	# hard reset to remove that commit.
	# the commit is still there, but it's just unreachable.
	wipe = !git add -A && git commit -qm 'WIPE SAVEPOINT' && git reset HEAD~1 --hard
	# adds all changes including untracked files and creates a commit.
	save = !git add -A && git commit -m 'SAVEPOINT'
	# only commits tracked changes
	wip = !git add -u && git commit -m "WIP"
	up= !git fetch origin && git merge --ff origin/$1
	# http://haacked.com/archive/2015/06/29/git-migrate/
	migrate = "!f(){ CURRENT=$(git symbolic-ref --short HEAD); git checkout -b $1 && git branch --force $CURRENT ${3-'$CURRENT@{u}'} && git rebase --onto ${2-master} $CURRENT; }; f"
	pp = !sh -c 'git push --set-upstream origin $(git symbolic-ref --short HEAD) && hub pull-request'
	pup = !sh -c 'git push --set-upstream origin $(git symbolic-ref --short HEAD)'
	standup = lg --author='Lars Tesmer' --since=yesterday
	staged = diff --staged
	prune = fetch --pruned
	stash-all = stash save --include-untracked
	push-f = push --force-with-lease

[diff "exif"]
	textconv = exiftool
[core]
	whitespace = trailing-space,space-before-tab
	editor = vim
	ignorecase = false
	pager = diff-so-fancy | less --tabs=4 -RFX
[diff]
	renames = copies
	compactionHeuristic = true
[rerere]
	enabled = true
[mergetool]
	keepBackup = false
[push]
	default = simple
	followTags = true

[merge]
	ff = only
	conflictstyle = diff3
	tool=meld

[mergetool "meld"]
    # Choose one of these 2 lines (not both!)
    cmd = meld "$LOCAL" "$MERGED" "$REMOTE" --output "$MERGED"
    # cmd = meld "$LOCAL" "$BASE" "$REMOTE" --output "$MERGED"

[transfer]
	fsckobjects = true
[stash]
	showPatch = true
